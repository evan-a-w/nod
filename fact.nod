factorial(%n:i64) {
    branch %n, check_one, ret_one
check_one:
    sub %n_minus_1:i64, %n, 1
    branch %n_minus_1, recurse, ret_one
ret_one:
    ret 1
recurse:
    call factorial(%n_minus_1) -> %sub_result:i64
    mul %result:i64, %n, %sub_result
    ret %result
}
